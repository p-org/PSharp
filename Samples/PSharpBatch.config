<?xml version="1.0"?>
<PSharpBatchConfig xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">

	<!-- Id of the Azure Batch pool to be created if does not exists -->
	<PoolId>ExamplePoolId</PoolId>

	<!-- Prefix of the Job ID (a timestamp will be appended to it) -->
	<JobDefaultId>ExampleJobId</JobDefaultId>

	<!-- Prefix of the task id. (a timestamp will be appended to it) -->
	<TaskDefaultId>TaskIdPrefix</TaskDefaultId>

	<!-- Blob access key expiry hours. Enter -1 for infinite expiry hours. -->
	<BlobContainerExpiryHours>1</BlobContainerExpiryHours>

	<!-- Number of nodes to create (minimum of 2 nodes required) -->
	<NumberOfNodesInPool>2</NumberOfNodesInPool>

	<!-- Path to the PSharp Binaries folder -->
	<PSharpBinariesFolderPath>D:\PSharp\bin\net46</PSharpBinariesFolderPath>

	<!-- Path to the output folder -->
	<OutputFolderPath>.\Output</OutputFolderPath>

	<!-- Wait time for monitoring tasks, beyond which the tasks will be terminated -->
	<TaskWaitHours>1</TaskWaitHours>

	<!-- Job deletion details -->
	<DeleteJobAfterDone>true</DeleteJobAfterDone>
	<DeleteContainerAfterDone>true</DeleteContainerAfterDone>
  
  <!-- Test run location -->
  <RunLocally>false</RunLocally>
  
  <Declarations>
  <Declare Name="MaxSteps" Value="500"/>  
  <Declare Name="Iterations" Value="5000"/>
  </Declarations>

	<Tests>
		<!-- You can have multiple tests here. Each test will correspond to one binary -->
    <Test Name="Test1">
			<ApplicationPath>D:\PSharp\Samples\BoundedAsync\BoundedAsync.PSharpLibrary\obj\Release\net46\BoundedAsync.PSharpLibrary.exe</ApplicationPath>
			<Command Name="Command1" Flags="/i:%Iterations% /explore /parallel:2 /sch:portfolio /explore /max-steps:%MaxSteps%"/>
		</Test>
    <Test Name="Test2">
      <ApplicationPath>D:\PSharp\Samples\ChainReplication\ChainReplication.PSharpLibrary\obj\Release\net46\ChainReplication.PSharpLibrary.exe</ApplicationPath>
      <Command Name="Command1" Flags="/i:%Iterations% /explore /parallel:2 /sch:portfolio /explore /max-steps:%MaxSteps%"/>
    </Test>
    <Test Name="Test3">
      <ApplicationPath>D:\PSharp\Samples\Chord\Chord.PSharpLibrary\obj\Release\net46\Chord.PSharpLibrary.exe</ApplicationPath>
      <Command Name="Command1" Flags="/i:%Iterations% /explore /parallel:2 /sch:portfolio /explore /max-steps:%MaxSteps%"/>
    </Test>
    <Test Name="Test4">
      <ApplicationPath>D:\PSharp\Samples\FailureDetector\FailureDetector.PSharpLibrary\obj\Release\net46\FailureDetector.PSharpLibrary.exe</ApplicationPath>
      <Command Name="Command1" Flags="/i:%Iterations% /explore /parallel:2 /sch:portfolio /explore /max-steps:%MaxSteps%"/>
    </Test>
    <Test Name="Test5">
      <ApplicationPath>D:\PSharp\Samples\CacheCoherence\CacheCoherence.PSharpLibrary\obj\Release\net46\CacheCoherence.PSharpLibrary.exe</ApplicationPath>
      <Command Name="Command1" Flags="/i:%Iterations% /explore /parallel:2 /sch:portfolio /explore /max-steps:%MaxSteps%"/>
    </Test>
    <Test Name="Test6">
      <ApplicationPath>D:\PSharp\Samples\MultiPaxos\MultiPaxos.PSharpLibrary\obj\Release\net46\MultiPaxos.PSharpLibrary.exe</ApplicationPath>
      <Command Name="Command1" Flags="/i:%Iterations% /explore /parallel:2 /sch:portfolio /explore /max-steps:%MaxSteps%"/>
    </Test>
    <Test Name="Test7">
      <ApplicationPath>D:\PSharp\Samples\Raft\Raft.PSharpLibrary\obj\Release\net46\Raft.PSharpLibrary.exe</ApplicationPath>
      <Command Name="Command1" Flags="/i:%Iterations% /explore /parallel:2 /sch:portfolio /explore /max-steps:%MaxSteps%"/>
    </Test>
    <Test Name="Test8">
      <ApplicationPath>D:\PSharp\Samples\TwoPhaseCommit\TwoPhaseCommit.PSharpLibrary\obj\Release\net46\TwoPhaseCommit.PSharpLibrary.exe</ApplicationPath>
      <Command Name="Command1" Flags="/i:%Iterations% /explore /parallel:2 /sch:portfolio /explore /max-steps:%MaxSteps%"/>
    </Test>
  </Tests>
</PSharpBatchConfig>